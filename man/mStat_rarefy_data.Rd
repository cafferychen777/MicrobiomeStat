% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mStat_rarefy_data.R
\name{mStat_rarefy_data}
\alias{mStat_rarefy_data}
\title{Rarefy Data to Specified Sampling Depth}
\usage{
mStat_rarefy_data(data.obj, depth = NULL)
}
\arguments{
\item{data.obj}{A MicrobiomeStat data object, which is a list containing
at minimum the following components:
\itemize{
  \item \code{feature.tab}: A matrix of feature abundances (taxa/genes as
    rows, samples as columns)
  \item \code{meta.dat}: A data frame of sample metadata (samples as rows)
}
Optional components include:
\itemize{
  \item \code{feature.ann}: A matrix/data frame of feature annotations
    (e.g., taxonomy)
  \item \code{tree}: A phylogenetic tree object (class "phylo")
  \item \code{feature.agg.list}: Pre-aggregated feature tables by taxonomy
}
Data objects can be created using converters like
\code{\link{mStat_convert_phyloseq_to_data_obj}} or importers like
\code{\link{mStat_import_qiime2_as_data_obj}}.}

\item{depth}{Numeric value or NULL. Rarefaction depth for diversity
calculations. If NULL, uses minimum sample depth or no rarefaction.}
}
\value{
A MicrobiomeStat data object with rarefied feature table.
}
\description{
Subsamples feature counts to equalize sequencing depth across samples.
}
\examples{
\dontrun{
# Load required libraries and data
library(vegan)
data(peerj32.obj)
# Perform aggregation to create feature.agg.list with Phylum and Family
peerj32.obj <- mStat_aggregate_by_taxonomy(peerj32.obj, c("Phylum", "Family"))
# Perform rarefication, remove all-zero rows and update feature.agg.list
rarefy_peerj32.obj <- mStat_rarefy_data(data.obj = peerj32.obj)
}
}
